{"remainingRequest":"/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/thread-loader/dist/cjs.js!/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js!/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js??ref--1-0!/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/src/views/BindUser.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/src/views/BindUser.vue","mtime":1762018358298},{"path":"/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/babel.config.js","mtime":1762018358253},{"path":"/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1762102178152},{"path":"/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/thread-loader/dist/cjs.js","mtime":1762102178152},{"path":"/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/babel-loader/lib/index.js","mtime":1762102182065},{"path":"/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/cache-loader/dist/cjs.js","mtime":1762102178152},{"path":"/Users/lijiahao/git-test/meiduo/meiduo_mall_frontend/node_modules/vue-loader/lib/index.js","mtime":1762102181323}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IEZvb3RlciBmcm9tICJAL2NvbXBvbmVudHMvRm9vdGVyLnZ1ZSI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g5Zu+54mH6Lev5b6E44CC5byV55So5pys5Zyw5Zu+54mH5pe277yM5bCG5Zu+54mH5L2c5Li65a+56LGh5a+85YWl5omN6IO957uR5a6aCiAgICAgIGltYWdlOiB7CiAgICAgICAgbG9nbzogcmVxdWlyZSgiLi4vYXNzZXRzL2ltYWdlcy9sb2dvLnBuZyIpLAogICAgICAgIHJlZ2lzdGVyOiByZXF1aXJlKCIuLi9hc3NldHMvaW1hZ2VzL3JlZ2lzdGVyX2Jhbm5lci5wbmciKSwKICAgICAgICBpbnRlcnZhbDogcmVxdWlyZSgiLi4vYXNzZXRzL2ltYWdlcy9pbnRlcnZhbF9saW5lLnBuZyIpLAogICAgICAgIGxvYWRpbmc6IHJlcXVpcmUoIi4uL2Fzc2V0cy9pbWFnZXMvbG9hZGluZy5naWYiKQogICAgICB9LAogICAgICAvLyDlj5HpgIHnn63kv6HmjInpkq7moIfor4blj4rmlofmnKwKICAgICAgc2VuZF9mbGFnOiBmYWxzZSwKICAgICAgc2VuZF90aXBzOiAi5Y+R6YCB6aqM6K+B56CBIiwKICAgICAgLy8g57uR5a6a6KGo5Y2VCiAgICAgIGZvcm06IHsKICAgICAgICBtb2JpbGU6ICIiLAogICAgICAgIHBhc3N3b3JkOiAiIiwKICAgICAgICBzbXNfY29kZTogIiIsCiAgICAgICAgb3BlbmlkOiAiIgogICAgICB9LAogICAgICAvLyDooajljZXmoKHpqozop4TliJkKICAgICAgcnVsZXM6IHsKICAgICAgICBwYXNzd29yZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuivt+i+k+WFpeWvhueggSIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBtb2JpbGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHBhdHRlcm46IC9eMVszLTldezF9XGR7OX0kLywKICAgICAgICAgIG1lc3NhZ2U6ICLmiYvmnLrlj7fnoIHkuI3lkIjms5UiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgc21zX2NvZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIHBhdHRlcm46IC9eWzAtOV17Nn0kLywKICAgICAgICAgIG1lc3NhZ2U6ICLpqozor4HnoIHmoLzlvI/plJnor68iLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfSwKICAgICAgLy8gUVHnlKjmiLfmmK/lkKblrZjlnKgKICAgICAgZXhpc3Q6IHRydWUKICAgIH07CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5jaGVja1VzZXIoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluefreS/oemqjOivgeeggQogICAgZ2V0U21zQ29kZSgpIHsKICAgICAgbGV0IHRoYXQgPSB0aGlzOwogICAgICBpZiAodGhhdC5mb3JtLm1vYmlsZSkgewogICAgICAgIC8vIOWIpOaWreaYr+WQpuW3sue7j+WPkeS6huefreS/oQogICAgICAgIGlmICh0aGF0LnNlbmRfZmxhZykgewogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICB0aGF0LiRheGlvcy5nZXQoInNtc19jb2Rlcy8iICsgdGhhdC5mb3JtLm1vYmlsZSwge30pLnRoZW4oKCkgPT4gewogICAgICAgICAgLy8g55+t5L+h5Y+R6YCB5oiQ5Yqf5ZCO77yM572u54Gw5oyJ6ZKu77yM5YCS6K6h5pe2NjDnp5LvvIw2MOenkuWQjuWFgeiuuOeUqOaIt+WGjeasoeeCueWHu+WPkemAgeefreS/oemqjOivgeeggeeahOaMiemSrgogICAgICAgICAgdGhhdC5zZW5kX2ZsYWcgPSB0cnVlOwogICAgICAgICAgbGV0IG51bSA9IDYwOwogICAgICAgICAgLy8g6K6+572u5LiA5Liq6K6h5pe25ZmoCiAgICAgICAgICBsZXQgdGltZXIgPSBzZXRJbnRlcnZhbCgoKSA9PiB7CiAgICAgICAgICAgIGlmIChudW0gPT0gMSkgewogICAgICAgICAgICAgIC8vIOWmguaenOiuoeaXtuWZqOWIsOacgOWQjiwg5riF6Zmk6K6h5pe25Zmo5a+56LGhCiAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbCh0aW1lcik7CiAgICAgICAgICAgICAgLy8g5bCG54K55Ye76I635Y+W6aqM6K+B56CB55qE5oyJ6ZKu5bGV56S655qE5paH5pys5Zue5aSN5oiQ5Y6f5aeL5paH5pysCiAgICAgICAgICAgICAgdGhhdC5zZW5kX3RpcHMgPSAi5Y+R6YCB6aqM6K+B56CBIjsKICAgICAgICAgICAgICAvLyDlsIbngrnlh7vmjInpkq7nmoRvbmNsaWNr5LqL5Lu25Ye95pWw5oGi5aSN5Zue5Y67CiAgICAgICAgICAgICAgdGhhdC5zZW5kX2ZsYWcgPSBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBudW0gLT0gMTsKICAgICAgICAgICAgICAvLyDlsZXnpLrlgJLorqHml7bkv6Hmga8KICAgICAgICAgICAgICB0aGF0LnNlbmRfdGlwcyA9IG51bSArICLnp5IiOwogICAgICAgICAgICB9CiAgICAgICAgICB9LCAxMDAwLCA2MCk7CiAgICAgICAgfSk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhhdC4kbWVzc2FnZS5lcnJvcigi6K+35YWI5aGr5YaZ5omL5py65Y+377yBIik7CiAgICAgIH0KICAgIH0sCiAgICAvLyDmj5DkuqTnu5HlrprooajljZXjgILmj5DkuqTooajljZXmmK/kuI3orrrmmK9RUei/mOaYr+mSiemSiemDvei1sFFR55qE57uR5a6a6YC76L6R77yM5LqM6ICF5Zyo5ZCO56uv5aSE55CG5pa55byP55u45ZCMCiAgICBzdWJtaXQoKSB7CiAgICAgIHRoaXMuJHJlZnMucmVnaXN0ZXJGb3JtLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIGxldCB0aGF0ID0gdGhpczsKICAgICAgICAgIHRoYXQuJGF4aW9zLnBvc3QoIm9hdXRoL3FxL3VzZXIvIiwgdGhhdC5mb3JtKS50aGVuKHJlcyA9PiB7CiAgICAgICAgICAgIC8vIOe7keWumuaIkOWKn+aXtu+8jOeKtuaAgeeggeS4ujIwMAogICAgICAgICAgICAvL+azqOWGjOaIkOWKn+WQju+8jOWcqOacrOWcsOS/neWtmHRva2VuLGlkLHVzZXJuYW1l562J5L+h5oGvCiAgICAgICAgICAgIHRoYXQuJHJvdXRlci5jb21taXQoInNldFN0YXR1cyIsIHsKICAgICAgICAgICAgICB1c2VybmFtZTogcmVzLmRhdGEudXNlcm5hbWUsCiAgICAgICAgICAgICAgdG9rZW46IHJlcy5kYXRhLnRva2VuCiAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgLy8g6Lez6L2s6aG16Z2i44CC5qC55o2u6Lez6L2s6L+H5p2l55qE6aG16Z2i77yM55m76ZmG5oiQ5Yqf5ZCO77yM6Lez6L2s5Zue5Y6777yb5ZCm5YiZ6L+b5YWl5Li76aG1CiAgICAgICAgICAgIHRoYXQuJHJvdXRlci5yZXBsYWNlKHRoYXQuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0IHx8ICIvIik7CiAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5blm57osIPlnLDlnYDkuK3nmoTlrZfmrrXnmoTlgLwKICAgIGdldENvZGUobmFtZSkgewogICAgICBsZXQgdXJsID0gd2luZG93LmxvY2F0aW9uLmhyZWY7CiAgICAgIGxldCBwYXJhbXMgPSB1cmwuc3Vic3RyKHVybC5sYXN0SW5kZXhPZigiPyIpICsgMSkuc3BsaXQoIiYiKTsKICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYXJhbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsZXQgcGFyYW0gPSBwYXJhbXNbaV07CiAgICAgICAgbGV0IGtleSA9IHBhcmFtLnNwbGl0KCI9IilbMF07CiAgICAgICAgbGV0IHZhbHVlID0gcGFyYW0uc3BsaXQoIj0iKVsxXTsKICAgICAgICBpZiAoa2V5ID09PSBuYW1lKSB7CiAgICAgICAgICByZXR1cm4gdmFsdWU7CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLy8g5Zue6LCD5pe26Ieq5Yqo5Y+R6LW36K+35rGC77yM5qOA5p+l5b2T5YmN55So5oi35piv5ZCm57uR5a6aCiAgICBjaGVja1VzZXIoKSB7CiAgICAgIGxldCB0aGF0ID0gdGhpczsKCiAgICAgIC8vIOiOt+WPluadpea6kOWcsOWdgO+8jOWIqeeUqOWbnuiwg+WcsOWdgOS4reeahHN0YXRl5Y+C5pWw5p2l5Yy65YiG5pivUVHnmbvpmYbov5jmmK/pkonpkonnmbvpmYYKICAgICAgbGV0IHN0YXRlID0gdGhhdC5nZXRDb2RlKCJzdGF0ZSIpOwogICAgICBpZiAoc3RhdGUgPT09ICJTVEFURSIpIHsKICAgICAgICB0aGF0LiRheGlvcy5nZXQoIm9hdXRoL2R0L3VzZXIvIiwgewogICAgICAgICAgcGFyYW1zOiB7CiAgICAgICAgICAgIGNvZGU6IHRoYXQuZ2V0Q29kZSgiY29kZSIpCiAgICAgICAgICB9CiAgICAgICAgfSkudGhlbihyZXMgPT4gewogICAgICAgICAgaWYgKHJlcy5kYXRhLm9wZW5pZCkgewogICAgICAgICAgICAvLyDlpoLmnpxvcGVuaWTmnInlgLzor7TmmI7kuYvliY3msqHmnInnu5Hlrprov4fnvZHnq5notKbmiLfvvIzmraTml7borr7nva7lm57osIPpobXpnaLov5vlhaXnu5HlrprnlYzpnaIKICAgICAgICAgICAgdGhhdC5leGlzdCA9IGZhbHNlOwogICAgICAgICAgICB0aGF0LmZvcm0ub3BlbmlkID0gcmVzLmRhdGEub3BlbmlkOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgLy8g5ou/5Yiw5L+d5a2Y5L+h5oGv77yM54S25ZCO6L+U5Zue5Yiw55m76ZmG5YmN55qE6aG16Z2iCiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLmNsZWFyKCk7IC8vIHNlc3Npb25TdG9yYWdl5YWz6Zet5rWP6KeI5Zmo5Y2z5riF6ZmkCiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5jbGVhcigpOyAvLyDmsLjkuYXkv53lrZgKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UudG9rZW4gPSByZXMuZGF0YS50b2tlbjsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UudXNlcm5hbWUgPSByZXMuZGF0YS51c2VybmFtZTsKICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2UudXNlcl9pZCA9IHJlcy5kYXRhLmlkOwogICAgICAgICAgICB0aGF0LiRzdG9yZS5jb21taXQoInNldFN0YXR1cyIsIHsKICAgICAgICAgICAgICB1c2VybmFtZTogcmVzLmRhdGEudXNlcm5hbWUsCiAgICAgICAgICAgICAgdG9rZW46IHJlcy5kYXRhLnRva2VuCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICAvLyDov5Tlm57otbflp4vpobUKICAgICAgICAgICAgdGhhdC4kcm91dGVyLnJlcGxhY2UodGhhdC4kcm91dGUucXVlcnkucmVkaXJlY3QgfHwgIi8iKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGF0LiRheGlvcy5nZXQoIm9hdXRoL3FxL3VzZXIiLCB7CiAgICAgICAgICBwYXJhbXM6IHsKICAgICAgICAgICAgY29kZTogdGhhdC5nZXRDb2RlKCJjb2RlIikKICAgICAgICAgIH0KICAgICAgICB9KS50aGVuKHJlcyA9PiB7CiAgICAgICAgICBpZiAocmVzLmRhdGEub3BlbmlkKSB7CiAgICAgICAgICAgIC8vIOWmguaenG9wZW5pZOacieWAvOivtOaYjuivpVFR5Y+35LmL5YmN5rKh5pyJ57uR5a6a6L+H572R56uZ6LSm5oi377yM5q2k5pe26K6+572u5Zue6LCD6aG16Z2i6L+b5YWl57uR5a6a55WM6Z2iCiAgICAgICAgICAgIHRoYXQuZXhpc3QgPSBmYWxzZTsKICAgICAgICAgICAgdGhhdC5mb3JtLm9wZW5pZCA9IHJlcy5kYXRhLm9wZW5pZDsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOaLv+WIsOS/neWtmOS/oeaBr++8jOeEtuWQjui/lOWbnuWIsOeZu+mZhuWJjeeahOmhtemdogogICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5jbGVhcigpOyAvLyBzZXNzaW9uU3RvcmFnZeWFs+mXrea1j+iniOWZqOWNs+a4hemZpAogICAgICAgICAgICBsb2NhbFN0b3JhZ2UuY2xlYXIoKTsgLy8g5rC45LmF5L+d5a2YCiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnRva2VuID0gcmVzLmRhdGEudG9rZW47CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnVzZXJuYW1lID0gcmVzLmRhdGEudXNlcm5hbWU7CiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnVzZXJfaWQgPSByZXMuZGF0YS5pZDsKICAgICAgICAgICAgdGhhdC4kc3RvcmUuY29tbWl0KCJzZXRTdGF0dXMiLCB7CiAgICAgICAgICAgICAgdXNlcm5hbWU6IHJlcy5kYXRhLnVzZXJuYW1lLAogICAgICAgICAgICAgIHRva2VuOiByZXMuZGF0YS50b2tlbgogICAgICAgICAgICB9KTsKICAgICAgICAgICAgLy8g6L+U5Zue6LW35aeL6aG1CiAgICAgICAgICAgIHRoYXQuJHJvdXRlci5yZXBsYWNlKHRoYXQuJHJvdXRlLnF1ZXJ5LnJlZGlyZWN0IHx8ICIvIik7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIEZvb3RlcgogIH0KfTs="},{"version":3,"names":["Footer","data","image","logo","require","register","interval","loading","send_flag","send_tips","form","mobile","password","sms_code","openid","rules","required","message","trigger","pattern","exist","mounted","checkUser","methods","getSmsCode","that","$axios","get","then","num","timer","setInterval","clearInterval","$message","error","submit","$refs","registerForm","validate","valid","post","res","$router","commit","username","token","replace","$route","query","redirect","getCode","name","url","window","location","href","params","substr","lastIndexOf","split","i","length","param","key","value","state","code","sessionStorage","clear","localStorage","user_id","id","$store","components"],"sources":["src/views/BindUser.vue"],"sourcesContent":["<template>\n  <div>\n    <div v-if=\"exist\" style=\"text-align: center;\">\n      <el-image :src=\"image.loading\"></el-image>\n    </div>\n    <div v-else>\n      <el-row>\n        <!-- 左半部分 -->\n        <el-col :span=\"14\" style=\"margin-top: 4em; text-align: right;\">\n          <div>\n            <div>\n              <el-image :src=\"image.logo\"></el-image>\n            </div>\n            <div>\n              <span class=\"banner-text\">商品美·种类多·欢迎选购</span>\n            </div>\n            <div></div>\n            <el-image :src=\"image.register\"></el-image>\n          </div>\n        </el-col>\n        <!-- 分割线 -->\n        <el-col :span=\"1\" style=\"margin-top: 2em; text-align: center;\">\n          <el-image :src=\"image.interval\"></el-image>\n        </el-col>\n        <!-- 右半部分 -->\n        <el-col :span=\"9\" style=\"width: 22em; margin-top: 4em;\">\n          <div>\n            <!-- 标题栏 -->\n            <el-row style=\"line-height: 3em;\">\n              <el-col :span=\"18\">\n                <span class=\"register-text\">绑定账号</span>\n              </el-col>\n            </el-row>\n            <!-- 注册表单 -->\n            <el-form size=\"mini\" label-width=\"6em\" :model=\"form\" :rules=\"rules\" ref=\"registerForm\">\n              <el-form-item label=\"手机号:\" prop=\"mobile\">\n                <el-input v-model=\"form.mobile\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"密码:\" prop=\"password\">\n                <el-input v-model=\"form.password\" type=\"password\" auto-complete=\"off\"></el-input>\n              </el-form-item>\n              <el-form-item label=\"验证码:\" prop=\"sms_code\">\n                <span style=\"width: 20em;\">\n                  <el-input style=\"width: 10em; margin-right:1em;\" v-model=\"form.sms_code\"></el-input>\n                  <el-button\n                    style=\"width: 8em; text-align: center;\"\n                    @click=\"getSmsCode\"\n                    type=\"primary\"\n                    :disabled=\"send_flag\"\n                  >{{ send_tips }}</el-button>\n                </span>\n              </el-form-item>\n              <el-form-item style=\"text-align: center; margin-top: 0px;\" label-width=\"0\">\n                <el-button type=\"danger\" size=\"medium\" style=\"width: 20em;\" @click=\"submit\">保&nbsp;存</el-button>\n              </el-form-item>\n            </el-form>\n          </div>\n        </el-col>\n      </el-row>\n      <!-- 分割线 -->\n      <el-divider></el-divider>\n      <!-- footer部分 -->\n      <Footer></Footer>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Footer from \"@/components/Footer.vue\";\n\nexport default {\n  data() {\n    return {\n      // 图片路径。引用本地图片时，将图片作为对象导入才能绑定\n      image: {\n        logo: require(\"../assets/images/logo.png\"),\n        register: require(\"../assets/images/register_banner.png\"),\n        interval: require(\"../assets/images/interval_line.png\"),\n        loading: require(\"../assets/images/loading.gif\")\n      },\n\n      // 发送短信按钮标识及文本\n      send_flag: false,\n      send_tips: \"发送验证码\",\n\n      // 绑定表单\n      form: {\n        mobile: \"\",\n        password: \"\",\n        sms_code: \"\",\n        openid: \"\"\n      },\n\n      // 表单校验规则\n      rules: {\n        password: [\n          {\n            required: true,\n            message: \"请输入密码\",\n            trigger: \"blur\"\n          }\n        ],\n        mobile: [\n          {\n            required: true,\n            pattern: /^1[3-9]{1}\\d{9}$/,\n            message: \"手机号码不合法\",\n            trigger: \"blur\"\n          }\n        ],\n        sms_code: [\n          {\n            required: true,\n            pattern: /^[0-9]{6}$/,\n            message: \"验证码格式错误\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n\n      // QQ用户是否存在\n      exist: true\n    };\n  },\n  mounted() {\n    this.checkUser();\n  },\n  methods: {\n    // 获取短信验证码\n    getSmsCode() {\n      let that = this;\n      if (that.form.mobile) {\n        // 判断是否已经发了短信\n        if (that.send_flag) {\n          return;\n        }\n\n        that.$axios.get(\"sms_codes/\" + that.form.mobile, {}).then(() => {\n          // 短信发送成功后，置灰按钮，倒计时60秒，60秒后允许用户再次点击发送短信验证码的按钮\n          that.send_flag = true;\n          let num = 60;\n          // 设置一个计时器\n          let timer = setInterval(\n            () => {\n              if (num == 1) {\n                // 如果计时器到最后, 清除计时器对象\n                clearInterval(timer);\n                // 将点击获取验证码的按钮展示的文本回复成原始文本\n                that.send_tips = \"发送验证码\";\n                // 将点击按钮的onclick事件函数恢复回去\n                that.send_flag = false;\n              } else {\n                num -= 1;\n                // 展示倒计时信息\n                that.send_tips = num + \"秒\";\n              }\n            },\n            1000,\n            60\n          );\n        });\n      } else {\n        that.$message.error(\"请先填写手机号！\");\n      }\n    },\n    // 提交绑定表单。提交表单是不论是QQ还是钉钉都走QQ的绑定逻辑，二者在后端处理方式相同\n    submit() {\n      this.$refs.registerForm.validate(valid => {\n        if (valid) {\n          let that = this;\n          that.$axios.post(\"oauth/qq/user/\", that.form).then(res => {\n            // 绑定成功时，状态码为200\n            //注册成功后，在本地保存token,id,username等信息\n            that.$router.commit(\"setStatus\", {\n              username: res.data.username,\n              token: res.data.token\n            });\n\n            // 跳转页面。根据跳转过来的页面，登陆成功后，跳转回去；否则进入主页\n            that.$router.replace(that.$route.query.redirect || \"/\");\n          });\n        }\n        return false;\n      });\n    },\n    // 获取回调地址中的字段的值\n    getCode(name) {\n      let url = window.location.href;\n\n      let params = url.substr(url.lastIndexOf(\"?\") + 1).split(\"&\");\n      for (let i = 0; i < params.length; i++) {\n        let param = params[i];\n        let key = param.split(\"=\")[0];\n        let value = param.split(\"=\")[1];\n        if (key === name) {\n          return value;\n        }\n      }\n    },\n    // 回调时自动发起请求，检查当前用户是否绑定\n    checkUser() {\n      let that = this;\n\n      // 获取来源地址，利用回调地址中的state参数来区分是QQ登陆还是钉钉登陆\n      let state = that.getCode(\"state\");\n\n      if (state === \"STATE\") {\n        that.$axios\n          .get(\"oauth/dt/user/\", { params: { code: that.getCode(\"code\") } })\n          .then(res => {\n            if (res.data.openid) {\n              // 如果openid有值说明之前没有绑定过网站账户，此时设置回调页面进入绑定界面\n              that.exist = false;\n              that.form.openid = res.data.openid;\n            } else {\n              // 拿到保存信息，然后返回到登陆前的页面\n              sessionStorage.clear(); // sessionStorage关闭浏览器即清除\n              localStorage.clear(); // 永久保存\n              sessionStorage.token = res.data.token;\n              sessionStorage.username = res.data.username;\n              sessionStorage.user_id = res.data.id;\n\n              that.$store.commit(\"setStatus\", {\n                username: res.data.username,\n                token: res.data.token\n              });\n              // 返回起始页\n              that.$router.replace(that.$route.query.redirect || \"/\");\n            }\n          });\n      } else {\n        that.$axios\n          .get(\"oauth/qq/user\", { params: { code: that.getCode(\"code\") } })\n          .then(res => {\n            if (res.data.openid) {\n              // 如果openid有值说明该QQ号之前没有绑定过网站账户，此时设置回调页面进入绑定界面\n              that.exist = false;\n              that.form.openid = res.data.openid;\n            } else {\n              // 拿到保存信息，然后返回到登陆前的页面\n              sessionStorage.clear(); // sessionStorage关闭浏览器即清除\n              localStorage.clear(); // 永久保存\n              sessionStorage.token = res.data.token;\n              sessionStorage.username = res.data.username;\n              sessionStorage.user_id = res.data.id;\n\n              that.$store.commit(\"setStatus\", {\n                username: res.data.username,\n                token: res.data.token\n              });\n              // 返回起始页\n              that.$router.replace(that.$route.query.redirect || \"/\");\n            }\n          });\n      }\n    }\n  },\n  components: {\n    Footer\n  }\n};\n</script>\n\n<style scoped>\n.banner-text {\n  color: red;\n}\n.register-text {\n  font-size: 1.5em;\n  font-family: Verdana, Geneva, Tahoma, sans-serif;\n  color: grey;\n}\n.el-input {\n  width: 20em;\n}\n.el-form-item {\n  padding-bottom: 2em;\n}\n.el-form {\n  background-color: rgb(180, 202, 206);\n  border-radius: 5px;\n  padding-top: 2em;\n}\n</style>"],"mappings":"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","ignoreList":[]}]}